{"ast":null,"code":"var _jsxFileName = \"/Users/a91994/Desktop/Projects/RiskProfile/frontend/src/components/SideBar.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SideBar = () => {\n  _s();\n  const [menus, setMenus] = useState([]);\n  const [userType, setUserType] = useState(\"\");\n  useEffect(() => {\n    const fetchMenus = async () => {\n      const token = localStorage.getItem(\"token\");\n      try {\n        const response = await fetch(\"http://127.0.0.1:5000/api/menus\", {\n          method: \"GET\",\n          headers: {\n            \"Authorization\": `Bearer ${token}`,\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        const data = await response.json();\n        if (data.status === \"SUCCESS\") {\n          setMenus(data.menus); // Set the menu list\n          setUserType(data.user_type); // Set the user type (ADMIN / MEMBER)\n          filterMenus(data.menus);\n        } else {\n          console.error(\"Error fetching menus:\", data.message);\n        }\n      } catch (error) {\n        console.error(\"API error:\", error);\n      }\n    };\n    fetchMenus();\n  }, []);\n\n  // **Admin menus (full access)**\n  const adminMenus = [{\n    menu_name: \"Home\",\n    link: \"/adminDashboard\"\n  }, {\n    menu_name: \"Users\",\n    link: \"/users\"\n  }, {\n    menu_name: \"Categories\",\n    link: \"/categories\"\n  }, {\n    menu_name: \"Risk Profiles\",\n    link: \"/risk-profiles\"\n  }, {\n    menu_name: \"Questions\",\n    link: \"/questions\"\n  }, {\n    menu_name: \"Reports\",\n    link: \"/reports\"\n  }, {\n    menu_name: \"Test Options\",\n    link: \"/dashboard\"\n  }, {\n    menu_name: \"Settings\",\n    link: \"/settings\"\n  }];\n  const filterMenus = apiMenus => {\n    const filteredMenus = adminMenus.filter(adminMenu => apiMenus.some(apiMenu => apiMenu.menu_name === adminMenu.menu_name));\n    setMenus(filteredMenus);\n  };\n\n  // **Render menus based on user type**\n  const displayedMenus = userType === \"ADMIN\" ? adminMenus : menus;\n  localStorage.setItem(\"userAccess\", JSON.stringify(displayedMenus));\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: [displayedMenus.map((menu, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: menu.link,\n        children: menu.menu_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 41\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"logout-button\",\n        onClick: () => {\n          localStorage.removeItem(\"token\");\n          window.location.href = \"/\"; // Redirect to login\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 35\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 13\n  }, this);\n};\n_s(SideBar, \"HH8gUQExPBQ2GnBPk7dpnQogVzA=\");\n_c = SideBar;\nexport default SideBar;\nvar _c;\n$RefreshReg$(_c, \"SideBar\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Link","jsxDEV","_jsxDEV","SideBar","_s","menus","setMenus","userType","setUserType","fetchMenus","token","localStorage","getItem","response","fetch","method","headers","data","json","status","user_type","filterMenus","console","error","message","adminMenus","menu_name","link","apiMenus","filteredMenus","filter","adminMenu","some","apiMenu","displayedMenus","setItem","JSON","stringify","children","map","menu","index","href","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","removeItem","window","location","_c","$RefreshReg$"],"sources":["/Users/a91994/Desktop/Projects/RiskProfile/frontend/src/components/SideBar.js"],"sourcesContent":["import React, { useEffect,useState } from \"react\";\nimport { useNavigate,Link } from \"react-router-dom\";\n\nconst SideBar = () => {\n    const [menus, setMenus] = useState([]);\n    const [userType, setUserType] = useState(\"\");\n\n    useEffect(() => {\n        const fetchMenus = async () => {\n            const token = localStorage.getItem(\"token\");\n\n            try {\n                const response = await fetch(\"http://127.0.0.1:5000/api/menus\", {\n                    method: \"GET\",\n                    headers: {\n                        \"Authorization\": `Bearer ${token}`,\n                        \"Content-Type\": \"application/json\"\n                    }\n                });\n\n                const data = await response.json();\n\n                if (data.status === \"SUCCESS\") {\n                    \n                    setMenus(data.menus); // Set the menu list\n                    setUserType(data.user_type); // Set the user type (ADMIN / MEMBER)\n                    filterMenus(data.menus);\n                } else {\n                    console.error(\"Error fetching menus:\", data.message);\n                }\n            } catch (error) {\n                console.error(\"API error:\", error);\n            }\n        };\n\n        fetchMenus();\n    }, []);\n\n    // **Admin menus (full access)**\n    const adminMenus = [\n        { menu_name: \"Home\", link: \"/adminDashboard\" },\n        { menu_name: \"Users\", link: \"/users\" },\n        { menu_name: \"Categories\", link: \"/categories\" },\n        { menu_name: \"Risk Profiles\", link: \"/risk-profiles\" },\n        { menu_name: \"Questions\", link: \"/questions\" },\n        { menu_name: \"Reports\", link: \"/reports\" },\n        { menu_name: \"Test Options\", link: \"/dashboard\" },\n        { menu_name: \"Settings\", link: \"/settings\" }\n    ];\n  \n    const filterMenus = (apiMenus) => {\n        const filteredMenus = adminMenus.filter(adminMenu =>\n            apiMenus.some(apiMenu => apiMenu.menu_name === adminMenu.menu_name)\n        );\n        setMenus(filteredMenus);\n       \n    };\n\n    \n    // **Render menus based on user type**\n    const displayedMenus = userType === \"ADMIN\" ? adminMenus : menus;\n    localStorage.setItem(\"userAccess\", JSON.stringify(displayedMenus));\n\n\n  return (\n          \n            <ul>\n                                \n                                 {displayedMenus.map((menu, index) => (\n                                   \n                                   \n                                    <li key={index}>\n                                        <a href={menu.link}>{menu.menu_name}</a>\n                                    </li>\n                                   ))}\n                                  <li>\n                                    <button className=\"logout-button\" onClick={() => {\n                                        localStorage.removeItem(\"token\"); \n                                        window.location.href = \"/\"; // Redirect to login\n                                    }}>\n                                        Logout\n                                    </button>\n                                  </li>\n                                  \n                        \n          </ul>\n     \n  );\n};\n\nexport default SideBar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}