{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { checkSession } from \"./AuthService\"; // Function to validate session\n\nconst EXCLUDED_PAGES = [\"/login\", \"/change_password\", \"/reset_password\"];\nconst SessionChecker = ({\n  children\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    const validateSession = async () => {\n      const isValidSession = await checkSession(); // Function to validate session from backend/local storage\n\n      if (!isValidSession && !EXCLUDED_PAGES.includes(location.pathname)) {\n        navigate(\"/login\"); // Redirect to login if session is invalid\n      }\n    };\n    validateSession();\n  }, [location.pathname, navigate]);\n  return children;\n};\n_s(SessionChecker, \"gMsdikdDs1f1NUVrv3Ag60oK04k=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = SessionChecker;\nexport default SessionChecker;\nvar _c;\n$RefreshReg$(_c, \"SessionChecker\");","map":{"version":3,"names":["useEffect","useNavigate","useLocation","checkSession","EXCLUDED_PAGES","SessionChecker","children","_s","navigate","location","validateSession","isValidSession","includes","pathname","_c","$RefreshReg$"],"sources":["/Users/a91994/Desktop/Projects/RiskProfile/frontend/src/SessionChecker.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { checkSession } from \"./AuthService\"; // Function to validate session\n\nconst EXCLUDED_PAGES = [\"/login\", \"/change_password\", \"/reset_password\"];\n\nconst SessionChecker = ({ children }) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  useEffect(() => {\n    const validateSession = async () => {\n      const isValidSession = await checkSession(); // Function to validate session from backend/local storage\n\n      if (!isValidSession && !EXCLUDED_PAGES.includes(location.pathname)) {\n        navigate(\"/login\"); // Redirect to login if session is invalid\n      }\n    };\n\n    validateSession();\n  }, [location.pathname, navigate]);\n\n  return children;\n};\n\nexport default SessionChecker;\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,YAAY,QAAQ,eAAe,CAAC,CAAC;;AAE9C,MAAMC,cAAc,GAAG,CAAC,QAAQ,EAAE,kBAAkB,EAAE,iBAAiB,CAAC;AAExE,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACvC,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAMQ,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd,MAAMU,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,MAAMC,cAAc,GAAG,MAAMR,YAAY,CAAC,CAAC,CAAC,CAAC;;MAE7C,IAAI,CAACQ,cAAc,IAAI,CAACP,cAAc,CAACQ,QAAQ,CAACH,QAAQ,CAACI,QAAQ,CAAC,EAAE;QAClEL,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;MACtB;IACF,CAAC;IAEDE,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,CAACD,QAAQ,CAACI,QAAQ,EAAEL,QAAQ,CAAC,CAAC;EAEjC,OAAOF,QAAQ;AACjB,CAAC;AAACC,EAAA,CAjBIF,cAAc;EAAA,QACDJ,WAAW,EACXC,WAAW;AAAA;AAAAY,EAAA,GAFxBT,cAAc;AAmBpB,eAAeA,cAAc;AAAC,IAAAS,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}